# PHP Bulletin Board Application



## 開発背景
このアプリは、WEB開発の基本スキルを実践的に学ぶために作成しました。HTML、CSS、PHP、MySQLを使用し、シンプルな掲示板機能を実装することで、フロントエンドとバックエンドの連携を理解し、データベース操作の基礎を習得することを目標に作成しました。



## 実装機能
### 基本機能
- 投稿の表示、新規作成、編集、削除
- ユーザー認証システム（発展チャレンジ）
- 画像アップロード機能（発展チャレンジ）
- ページネーション機能（発展チャレンジ）
- 検索機能（発展チャレンジ）

### フロントエンド
- レスポンシブデザインの実装
- フォームのバリデーション

### バックエンド
- データベース接続とCRUD操作
- セキュリティ対策（SQLインジェクション、XSS、CSRF対策）

### データベース
- MySQLの使用

### 動作環境
- XAMPP、Dockerなどの環境で動作（MAMP使用）



## 実装できなかった機能
- 非同期通信（Ajax）による投稿の送信と更新（発展チャレンジ）
- フレームワークの使用（発展チャレンジ）
- 適切なテーブル設計（掲示板アプリに必要なテーブルは作成できましたが、現在学習中です）
- 効率的なクエリ作成（現在、効率的なクエリについて学習中です）
- テストとデバッグ（掲示板アプリは問題なく作動。VScode拡張機能Xdebug使用しデバック中）



## ディレクトリの構成
PHP BULLETIN BOARD/
├── classes/               # アプリケーションの主要機能を格納するディレクトリ
│   ├── Board.php          # 掲示板のメイン機能を管理するクラス
│   ├── Config.php         # データベース接続設定を管理するクラス
│   ├── Database.php       # データベース操作を管理するクラス
│   ├── DeleteConfirm.php  # 投稿削除確認機能を管理するクラス
│   ├── DeleteSuccess.php  # 投稿削除成功後の処理を管理するクラス
│   ├── SessionManager.php # セッション管理を行うクラス
│   ├── UpdateEdit.php     # 投稿の編集機能を管理するクラス
│   └── User.php           # ユーザー管理機能を提供するクラス
├── css/                   # スタイルシートを格納するディレクトリ
│   └── styles.css         # アプリケーション全体のスタイルを定義
├── text/                  # テキストファイルを格納するディレクトリ
│   ├── flowchart.text     # フローチャートの記述ファイル（自分の考えをまとめる用）
│   └── NOTES.test         # メモやノートのファイル（自分の考えをまとめる用）
├── board.php              # 掲示板のメインページ
├── delete-confirm.php     # 投稿削除確認ページ
├── delete-success.php     # 投稿削除成功ページ
├── login.php              # ログインページ
├── logout.php             # ログアウトページ
├── register.php           # 新規ユーザー登録ページ
├── update-edit.php        # 投稿編集ページ
└── README.md              # プロジェクトの概要や使用方法を説明するファイル



## 使用技術
- **PHP 8.2.20**: サーバーサイドロジック
- **MySQL 8.0.35**: データベース管理
- **MAMP**: ローカル開発環境
- **GitHub**: バージョン管理
- **VSCode**: 開発用エディタ



## 使用方法
### 1.	新規ユーザー登録
- ログイン画面から「新規登録」リンクをクリックし、必要な情報を入力してユーザー登録を行います。
### 2.	ログイン
- 登録したユーザー名とパスワードでログインします。
### 3.	投稿の作成
- ログイン後、掲示板にアクセスし、「新規投稿」ボタンをクリックしてタイトルと内容を入力し、投稿を作成します。画像をアップロードすることも可能です。
### 4.	投稿の編集
- 投稿一覧から自分の投稿を選択し、「編集」ボタンをクリックして内容を修正します。
### 5.	投稿の削除
- 投稿一覧から削除したい投稿を選び、「削除」ボタンをクリックして投稿を削除します。
### 6.	検索機能の使用
- 掲示板の検索フォームにキーワードを入力して投稿を検索できます。
### 7.	ページネーション
- 投稿一覧が複数ページにわたる場合、ページネーションを使って前後のページに移動できます。



## 今後改善したいところ
### Board.php
- セッション管理の修正:$$_SESSIONではなく、SessionManager クラスを使う
- handlePostRequest() メソッド:コメントとタイトルを別のメソッドへ分ける
- 画像アップロードのセキュリティ対策：ファイル名のランダム化とMIMEタイプのチェックを追加
- データベース操作：例外処理の追加
- generateTokenメソッドがBoardクラスとDeleteConfirmクラスにある。共有化できるなら共有化したい
- Board.phpのsearchPostsメソッドの$page = 1, $limit = 10 の値の代入はいらない？
- countSearchResults（検索結果の総投稿数を取得するメソッド）、getTotalPostCount（検索されていない。通常の投稿数を取得するメソッド）同じ投稿数を取得するメソッドなのに、命名に統一感がないから修正したい
- 検索結果の全て表示ボタンを削除したい
- Board.phpとUpateEdit.phpとDeleteConfirm.phpのgenerateTokenメソッドを共有化したい。するならセッションマネージャ

### Database.php
- SQL文の共通化：searchPosts や fetchPostsByPage で同じコードを書いているから共通化する
- トランザクションの導入：deletePost メソッド。あとで詳しく調べる
- エラーハンドリングの導入：データベース接続時のエラーハンドリング。あとで詳しく調べる

### SessionManager.php
- 初期の掲示板アプリでは、セッションの時間で、ユーザー識別していたけど、ログイン機能をつけたからいらない？セッションハイジャック対策でいる？検討中
- startSession() メソッドがif ifになっているから修正したい
- validateTokenメソッドがSessionManagerクラスとUpdateEditクラスの二つにある。共通化できるなら共通化したい


## 感想・反省点
今回の掲示板アプリ作成での反省点は、ChatGPTを効果的に活用できなかったことです。ChatGPTの力だけでアプリを完成させることは絶対に避けたいと思っていました。そんなことをしたら、自分でコードを書く力や読む力、そして問題を解決する力が身につかないと考えていたからです。そのため、ChatGPTを利用する際には、単にコードをコピペするのではなく、そのコードの意味を理解することを心がけていました。
掲示板アプリを作成している間は、提供されたコードの意味を理解しているつもりでしたが、アプリが完成した後に振り返ってみると、実際には理解が浅く、結果として自分の力ではなくChatGPTの力で作られたコードになってしまったと感じました。
現在は、作成した掲示板アプリを80〜90％理解できるように学習を進めています。その過程で、コードの全体像をしっかりと把握していれば、このようなコードは書かなかっただろうと感じる箇所が多々ありました。改めて、AIを使いこなすスキルが不足していることを痛感しています。
最近のAIの発展は目覚ましいものがあります。ChatGPTから提供されたコードを単にコピペするだけのエンジニア（今の自分）は、下手をすると明日には仕事を失ってしまうのではと感じています。しかし、これからの時代、AIを効果的に活用する能力はエンジニアとして必須だと考えています。大崎さんがClaudeを使って学習サイトを作成しているのを見て、AIを使いこなすだけの知識や技術があれば、最高のパートナーが常にそばにいる状態になると確信しました。これからは、ChatGPTを使いこなせるように、自分のプログラミングスキルをさらに向上させていきたいと思います。



## 参考資料
このアプリは、『ケケンタの独学ITブログの掲示板アプリの作り方』を参考に開発しました。以下のリンクを参考に、基本機能とセキュリティ対策の実装を行いました。

- [PHP公式ドキュメント](https://www.php.net/manual/ja/index.php)
- [ケケンタの独学ITブログ](https://kekenta-it-blog.com/board-app-php/)
- [セキュリティ対策](https://kekenta-it-blog.com/php-board-app-secure/)
- イラスト図解式 この一冊で全部わかるWeb技術の基本 第2版
https://www.amazon.co.jp/%E3%82%A4%E3%83%A9%E3%82%B9%E3%83%88%E5%9B%B3%E8%A7%A3%E5%BC%8F-%E3%81%93%E3%81%AE%E4%B8%80%E5%86%8A%E3%81%A7%E5%85%A8%E9%83%A8%E3%82%8F%E3%81%8B%E3%82%8BWeb%E6%8A%80%E8%A1%93%E3%81%AE%E5%9F%BA%E6%9C%AC-%E7%AC%AC2%E7%89%88-NRI%E3%83%8D%E3%83%83%E3%83%88%E3%82%B3%E3%83%A0%E6%A0%AA%E5%BC%8F%E4%BC%9A%E7%A4%BE/dp/4815625948/ref=asc_df_4815625948/?tag=jpgo-22&linkCode=df0&hvadid=695672930156&hvpos=&hvnetw=g&hvrand=14354570632757591132&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hvlocphy=1009201&hvtargid=pla-2304346188151&psc=1&mcid=dec4bdf478cf3b2e9263cde0cd8df0ff&th=1&psc=1&gad_source=1


