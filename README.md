# PHP Bulletin Board Application



## 開発背景
このアプリは、WEB開発の基本スキルを実践的に学ぶために作成しました。HTML、CSS、PHP、MySQLを使用し、シンプルな掲示板機能を実装することで、フロントエンドとバックエンドの連携を理解し、データベース操作の基礎を習得することを目標に作成しました。



## 実装機能
### 基本機能
- 投稿の表示、新規作成、編集、削除
- ユーザー認証システム（発展チャレンジ）
- 画像アップロード機能（発展チャレンジ）
- ページネーション機能（発展チャレンジ）
- 検索機能（発展チャレンジ）

### フロントエンド
- レスポンシブデザインの実装
- フォームのバリデーション

### バックエンド
- データベース接続とCRUD操作
- セキュリティ対策（SQLインジェクション、XSS、CSRF対策）

### データベース
- MySQLの使用

### 動作環境
- XAMPP、Dockerなどの環境で動作（MAMP使用）



## 実装できなかった機能
- 非同期通信（Ajax）による投稿の送信と更新（発展チャレンジ）
- フレームワークの使用（発展チャレンジ）
- 適切なテーブル設計（掲示板アプリに必要なテーブルは作成できましたが、現在学習中です）
- 効率的なクエリ作成（現在、効率的なクエリについて学習中です）
- テストとデバッグ（VScode拡張機能Xdebug使用、まだデバック途中です）



## ディレクトリの構成
PHP BULLETIN BOARD/
├── classes/               # アプリケーションの主要機能を格納するディレクトリ
│   ├── Board.php          # 掲示板のメイン機能を管理するクラス
│   ├── Config.php         # データベース接続設定を管理するクラス
│   ├── Database.php       # データベース操作を管理するクラス
│   ├── DeleteConfirm.php  # 投稿削除確認機能を管理するクラス
│   ├── DeleteSuccess.php  # 投稿削除成功後の処理を管理するクラス
│   ├── SessionManager.php # セッション管理を行うクラス
│   ├── UpdateEdit.php     # 投稿の編集機能を管理するクラス
│   └── User.php           # ユーザー管理機能を提供するクラス
├── css/                   # スタイルシートを格納するディレクトリ
│   └── styles.css         # アプリケーション全体のスタイルを定義
├── text/                  # テキストファイルを格納するディレクトリ
│   ├── flowchart.text     # フローチャートの記述ファイル（自分の考えをまとめる用）
│   └── NOTES.test         # メモやノートのファイル（自分の考えをまとめる用）
├── board.php              # 掲示板のメインページ
├── delete-confirm.php     # 投稿削除確認ページ
├── delete-success.php     # 投稿削除成功ページ
├── login.php              # ログインページ
├── logout.php             # ログアウトページ
├── register.php           # 新規ユーザー登録ページ
├── update-edit.php        # 投稿編集ページ
└── README.md              # プロジェクトの概要や使用方法を説明するファイル



## 使用技術
- **PHP 8.2.20**: サーバーサイドロジック
- **MySQL 8.0.35**: データベース管理
- **MAMP**: ローカル開発環境
- **GitHub**: バージョン管理
- **VSCode**: 開発用エディタ



## 使用方法
### 1.	新規ユーザー登録
- ログイン画面から「新規登録」リンクをクリックし、必要な情報を入力してユーザー登録を行います。
### 2.	ログイン
- 登録したユーザー名とパスワードでログインします。
### 3.	投稿の作成
- ログイン後、掲示板にアクセスし、「新規投稿」ボタンをクリックしてタイトルと内容を入力し、投稿を作成します。画像をアップロードすることも可能です。
### 4.	投稿の編集
- 投稿一覧から自分の投稿を選択し、「編集」ボタンをクリックして内容を修正します。
### 5.	投稿の削除
- 投稿一覧から削除したい投稿を選び、「削除」ボタンをクリックして投稿を削除します。
### 6.	検索機能の使用
- 掲示板の検索フォームにキーワードを入力して投稿を検索できます。
### 7.	ページネーション
- 投稿一覧が複数ページにわたる場合、ページネーションを使って前後のページに移動できます。



## 今後改善したいところ
### Board.php
- セッション管理の修正:$$_SESSIONではなく、SessionManager クラスを使う
- handlePostRequest() メソッド:コメントとタイトルを別のメソッドへ分ける
- 画像アップロードのセキュリティ対策：ファイル名のランダム化とMIMEタイプのチェックを追加
- データベース操作：例外処理の追加

### Database.php
- SQL文の共通化：searchPosts や fetchPostsByPage で同じコードを書いているから共通化する
- トランザクションの導入：deletePost メソッド。あとで詳しく調べる
- エラーハンドリングの導入：データベース接続時のエラーハンドリング。あとで詳しく調べる


## 感想・反省点
掲示板アプリを作成している際には、コードの意味を理解できていると感じていましたが、後から振り返ると、なぜそのようなコードを書いたのか自分でも分からなくなることがありました。そのため、現在は、各コードの意味を確実に理解できるように、ドキュメントに自分の調べた内容や考えを記録し、頭の中を整理して理解を深めるための学習を行なっています。
このプロセスの中で、修正が必要だと感じた箇所がいくつかありましたが、時間の制約で修正しきれなかった部分もあります。修正したい箇所については、今後改善すべき項目としてまとめてあります。現在、Board.phpやDatabase.phpのコードについては、ある程度理解できたと感じています。



## 参考資料
このアプリは、『ケケンタの独学ITブログの掲示板アプリの作り方』を参考に開発しました。以下のリンクを参考に、基本機能とセキュリティ対策の実装を行いました。

- [PHP公式ドキュメント](https://www.php.net/manual/ja/index.php)
- [ケケンタの独学ITブログ](https://kekenta-it-blog.com/board-app-php/)
- [セキュリティ対策](https://kekenta-it-blog.com/php-board-app-secure/)


